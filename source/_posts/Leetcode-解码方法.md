---
title: Leetcode--解码方法
date: 2021-05-13 20:13:01
categories: 刷题记录
tags: 刷题
mathjax: true
---

## 题目描述

一条包含字母 A-Z 的消息通过以下映射进行了编码：

```
'A' -> 1
'B' -> 2
...
'Z' -> 26
```

要解码已编码的消息，所有数字必须基于上述映射的方法，反向映射回字母（可能有多种方法）。例如，"11106" 可以映射为：

- `"AAJF"`，将消息分组为`(1 1 10 6)`
- `"KJF"` ，将消息分组为`(11 10 6)`

注意，消息不能分组为`(1 11 06)`，因为`"06"`不能映射为`"F"`，这是由于`"6"`和`"06"`在映射中并不等价。

一个只含数字的非空字符串 s ，请计算并返回解码方法的总数 。答案肯定是一个 32 位的整数。

<!--more-->

## 解法

考虑最后一次解码用了哪些字符，假设只使用了一次字符且$s[i]\neq0$，那么解码方法数就等于前(i-1)次的方法总数；假设使用了两个字符，那么是$s[i-1]\neq0$，s[i-1]与 s[i]组成的整数必须小于 26，那么解码方法就是前(i-2)的解码方法。对于空字符串，解码的方法只有一种

```C++
class Solution {
public:
    int numDecodings(string s) {
        int n = s.size();
        int a = 0, b = 1, c;
        for (int i = 1; i <= n; ++i) {
            c = 0;
            if (s[i - 1] != '0') {
                c += b;
            }
            if (i > 1 && s[i - 2] != '0' && ((s[i - 2] - '0') * 10 + (s[i - 1] - '0') <= 26)) {
                c += a;
            }
            tie(a, b) = {b, c};
        }
        return c;
    }
};
```

时间复杂度为$O(N)$，空间复杂度为$O(1)$
